{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-4">Available Courses</h2>

  {% if course %}
    <div class="list-group">
      {% for course in course %}
        <a href="{% url 'courseInfo_detail' course.id %}" class="list-group-item list-group-item-action">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <h5 class="mb-1">{{ course.course.code }}</h5>
            </div>
            <span class="badge bg-primary">{{ course.get_status_display }}</span>
          </div>
        </a>
      {% endfor %}
    </div>
  {% else %}
    <p>No courses available.</p>
  {% endif %}

   <a href="{% url 'register_course' %}" class="btn btn-danger mt-4">register for course</a>

  {% if user.is_authenticated and user.role == "admin" %}
  <a href="{% url 'courses_list' %}" class="btn btn-warning mt-4">Add new  Course</a>

  <a href="{% url 'courseInfo_create' %}" class="btn btn-success mt-4">Add New Course</a>
  {% endif %}
</div>
{% endblock %}
